import React from 'react';
import LogoutButton from '../../../Auth/LogoutButton';

const SidebarAdmin = ({ activeSection, setActiveSection }) => {
  const navIcons = {
    dashboard: '🏠',
    employee: '👥',
    attendance: '📅',
    payroll: '💳',
    tasks: '🧾',
    'task-requests': '📋', // Added task requests icon
    room: '🛏️',
    profile: '👤'
  };

  const sections = [
    { key: 'dashboard', label: 'Dashboard' },
    { key: 'employee', label: 'Employees' },
    { key: 'attendance', label: 'Attendance' },
    { key: 'payroll', label: 'Payroll' },
    { key: 'tasks', label: 'Tasks' },
    { key: 'task-requests', label: 'Task Requests' }, // Added task requests section
//    { key: 'room', label: 'Room Assignment' },
  ];

  return (
    <aside style={{
      width: 220,
      background: '#a57c2b',
      padding: 24,
      display: 'flex',
      flexDirection: 'column',
      alignItems: 'center',
      borderRight: '1px solid rgba(0,0,0,0.08)',
      color: '#fff',
      minHeight: '100vh'
    }}>
      {/* Profile section */}
      <div
        onClick={() => setActiveSection('profile')}
        style={{
          width: '100%',
          display: 'flex',
          flexDirection: 'column',
          alignItems: 'center',
          marginBottom: 12,
          padding: 12,
          borderRadius: 8,
          cursor: 'pointer',
          background: activeSection === 'profile' ? '#d2aa3a' : 'transparent',
          color: activeSection === 'profile' ? '#2f1b0a' : '#fff',
          fontWeight: activeSection === 'profile' ? 600 : 400,
          transition: 'background 140ms ease'
        }}
      >
        <div style={{
          width: 64,
          height: 64,
          borderRadius: '50%',
          background: '#4b2b17',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          color: '#fff',
          fontSize: 24,
          marginBottom: 8
        }}>
          <span style={{ opacity: 0.95 }}>◯</span>
        </div>
        <div style={{ fontWeight: 700, fontSize: 16, marginTop: 4 }}>
          {localStorage.getItem('name') || localStorage.getItem('username') || 'Admin'}
        </div>
        <div style={{ fontSize: 12, opacity: 0.8 }}>
          {localStorage.getItem('role') || 'Admin'}
        </div>
      </div>

      {/* Sidebar buttons */}
      <nav style={{ width: '100%' }}>
        {sections.map(sec => (
          <button
            key={sec.key}
            className={`sidebar-btn ${activeSection === sec.key ? 'active' : ''}`}
            onClick={() => setActiveSection(sec.key)}
            style={{
              width: '100%',
              padding: '10px 12px',
              marginBottom: 12,
              border: 'none',
              borderRadius: 8,
              fontWeight: 500,
              color: '#fff',
              textAlign: 'left',
              cursor: 'pointer',
              display: 'flex',
              alignItems: 'center',
              background: activeSection === sec.key ? '#4b2b17' : '#a57c2b',
              transition: 'background 140ms ease'
            }}
          >
            <span style={{ marginRight: 12, fontSize: 18 }}>{navIcons[sec.key] || '•'}</span>
            {sec.label}
          </button>
        ))}
      </nav>

      {/* logout button */}
      <div style={{ marginTop: 'auto', marginRight: '30px', width: '100%' }}>
        <LogoutButton
          style={{
            width: '100%',
            background: 'linear-gradient(90deg, #f2d49b, #dabf84)',
            color: '#4b3a2b',
            border: 'none',
            borderRadius: '8px',
            textAlign: 'left',
            padding: '10px 16px',
            display: 'flex',
            alignItems: 'center',
            gap: '10px',
            cursor: 'pointer',
            fontWeight: '600',
            boxShadow: '0 4px 6px rgba(0,0,0,0.1)',
            transition: 'all 0.3s ease',
          }}
          onMouseEnter={e => {
            e.currentTarget.style.background = 'linear-gradient(90deg, #dabf84, #f2d49b)';
            e.currentTarget.style.transform = 'scale(1.02)';
          }}
          onMouseLeave={e => {
            e.currentTarget.style.background = 'linear-gradient(90deg, #f2d49b, #dabf84)';
            e.currentTarget.style.transform = 'scale(1)';
          }}
        >
          <span style={{ fontSize: '18px' }}>🔒</span>
          Logout
        </LogoutButton>
      </div>
    </aside>
  );
};

export default SidebarAdmin;